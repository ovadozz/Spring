<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
   <script src="https://code.jquery.com/jquery-3.5.1.min.js"  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
 
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">	
     <title>메인페이지</title>
</head>


<body>
	<h2>주문하기</h2>
	<hr>
	<h3>라면</h3>
	<table border="1">
		<thead>
			<tr>
			<th>번호</th>
			<th>라면</th>
			<th>가격</th>
			<th>재고</th>
			<th>상태</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="o:${order}">	
				<td  th:text="${o.catenum}"></td>
				<td  th:text="${o.prodname}"></td>
				<td th:text="${o.cost}"></td>
				<td th:text="${o.inventory}"></td>
				<td><button class="buttons">담기</button></td>
			</tr>
		</tbody>
	</table>
	<hr>
	<h3>음료</h3>
	<hr>
	<table border="1">
		<thead>
			<tr>
			<th>번호</th>
			<th>음료</th>
			<th>가격</th>
			<th>재고</th>
			<th>상태</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="d:${drinks}">	
				<td th:text="${d.catenum}"></td>
				<td th:text="${d.drinkname}"></td>
				<td th:text="${d.cost}"></td>
				<td th:text="${d.inventory}"></td>
				<td><button class="buttons">담기</button></td>
			</tr>
		</tbody>
	</table>   
	<hr>
	<h3>추가</h3>
	<hr>
	<table border="1">
		<thead>
			<tr>
			<th>번호</th>
			<th>음료</th>
			<th>가격</th>
			<th>재고</th>
			<th>상태</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="a:${adds}">	
				<td th:text="${a.catenum}"></td>
				<td th:text="${a.addsname}"></td>
				<td th:text="${a.cost}"></td>
				<td th:text="${a.inventory}"></td>
				<td><button class="buttons">담기</button></td>
			</tr>
		</tbody>
	</table>   
	
	<hr>
	<h3>장바구니</h3>
	<table border="1"  id="pocket">
			<thead>
			<tr>
				<th>번호</th>
				<th>상품명</th>
				<th>가격</th>
				<th>개수</th>
				<th>추가</th>
			</tr>
			</thead>
			<tbody>
	
			</tbody>
	</table>
	
	<button class="pay">결제하기</button>
	<script>
	$(() => {
		
	
		$(".buttons").click(function(){
			
			var str ="";
			var tdArr = new Array();
			var btn = $(this);
			
			var tr = btn.parent().parent();
			var td = tr.children();
			
			console.log(tr.text());
			
			var catenum = td.eq(0).text();
			var prodename = td.eq(1).text();
			var cost = td.eq(2).text();
			var inventory = td.eq(3).text();
			
			
			var order = "<tr id='" + catenum + "'>";
			order += "<td>" + catenum + "</td>";
			order += "<td>" + prodename + "</td>";
			order += "<td>" + cost + "</td>";
			order += "<td>" + 1 + "</td>";
			order += "<td>" + "<button class='plus'>" + "+</button></td>";
			order += "</tr>";
			
			$("#pocket tbody").append(order);
			

		
		});
		});
	</script>
</body>

</html>
